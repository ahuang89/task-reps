<!DOCTYPE html>
<html>
  <head>
    <title>My experiment</title>
    <script src="https://unpkg.com/jspsych@8.2.1"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-instructions@1.1.4"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-multi-choice@1.1.3"></script>
    <link href="./jspsych.css" rel="stylesheet" type="text/css" />
  </head>
  <body></body>
  <script>
    // variable to initialize jsPsych//
    var jsPsych = initJsPsych();

    //create timeline//
    var timeline = [];

    //define welcome message//
    var welcome = {
      type: jsPsychInstructions,
      pages: [
        `<p>Welcome to the experiment. Click below to continue.</p>`
      ],
      show_clickable_nav: true
    };
    timeline.push(welcome);

    //tile activation instructions//
    var tile_intro = {
        type:jsPsychInstructions,
        pages: [
        //intro//
        `<p>We are designing games that scientists can use to study visual attention.</p>
        <p>Our goal is to make the games as immersive and engaging as possible.<br>
        To do so, we are getting feedback from people like you.</p>`,

        //description//
        `<p>You'll be playing a game where you'll be competing for a chance to win a $100.00 bonus prize.</p>
        <p>Specifically, during the game, you'll earn tokens. The tokens you earn will be entered into a lottery,<br>
        and if one of your tokens is drawn, you'll win $100.00. The more tokens you earn, the more likely you'll be to win $100.00.</p>`,

        //instructions 1//
        `<p>The game you will play involves activating a gray tile.</p>
        <div class="outcome-container">
            <div class="gray-tile"></div>
        </div>
        <p>The tile will appear on your screen, then quickly disappear. To activate it, you must press your SPACEBAR
        before it disappears;<br>whenever you see the tile, you should press your SPACEBAR as fast as possible.</p>`,

        //instructions 2//
        `<p>If you successfully activate the tile, it will turn blue.</p>
        <div class="outcome-container">
            <div class="blue-tile"></div>
        </div>
        <p>Press any key to continue.</p>`,

        //instructions 3//
        `<p>If you fail to activate the tile, it will disappear.</p>
        <div class="outcome-container">
        </div>
        <p>Press any key to continue.</p>`,

        //instructions 4//
        `<p>To get a feel for activating the tile, you'll complete a practice session with 10 rounds of tiles.</p>
        <p>Once you proceed, the practice session will start, so get ready to press your SPACEBAR.</p>
        <p>Press any key to continue.</p>`,
      
        ],
        show_clickable_nav: true
    };
    timeline.push(tile_intro);
    
    
    // Insert tile PRACTICE game //


    var games = {
        type:jsPsychInstructions,
        pages: [
        //intro games//
        `<p>You will choose one of three tile-based games to play.</p>
        <div class="outcome-container">
            <p>1. One-Click Wonder</p>
            <p>2. Streak-O-Rama</p>
            <p>3. Six Shooter</p>
        </div>
        <p>You will learn about each game in the following pages. Click any key to advance.</p>`,

        //binary 1//
        `<div class="heading">One-Click Wonder</div>
        <div class="outcome-container">
            <p>Your goal is to activate each individual tile.</p>
            <p>Press any key to continue.</p>
        </div>`,

        //binary 2//
        `<div class ="game-header">One-Click Wonder</div>
        <p>Each time you successfully hit the tile you'll see this message:</p>
        <div class ="outcome-container">
            <div class ="win-text">+10 tokens</div>
        </div>`,

        //binary 3//
        `<div class ="game-header">One-Click Wonder</div>
        <p>Each time you fail to hit the tile you'll see this message:</p>
        <div class ="outcome-container">
            <div class ="lose-text">+0 tokens</div>
        </div>`,

        //divider//
        `<p>Continue to learn about the rules of Streak-O-Rama</p>`,


        //streak 1//
        `<div class="heading">Streak-O-Rama</div>
        <div class="outcome-container">
            <p>Your goal is to build streaks of consecutive successful tile hits.</p>
            <p>Press any key to continue.</p>
        </div>`,

        //streak 2//
        `<div class ="game-header">Streak-O-Rama</div>
        <p>After a successful hit, you’ll see the length of your current streak.</p>
        <p>For instance, if you’ve activated the tile 3 times in a row, you'll see this message:</p>
        <div class ="outcome-container">
            <div class="status-text">Streak: 3</div>
        </div>`,

        //streak 3//
        `<div class ="game-header">Streak-O-Rama</div>
        <p>You'll earn 10 tokens for every consecutive tile you hit.</p>
        <p>For instance, if you miss the tile after achieving a streak of 3, you'll see this message indicating that you earned 30 tokens:</p>
        <div class ="outcome-container">
            <div class="status-text">Final streak: 3</div>
            <div class="win-text">+30 tokens</div>
        </div>`,

        //divider//
        `<p>Continue to learn about the rules of Six Shooter</p>`,


        //one in six 1//
        `<div class="heading">Six Shooter</div>
        <div class="outcome-container">
            <p>Six Shooter is divided into rounds of 6 attempts.</p>
            <p>Your goal is to win rounds.</p>
            <p>To win a round, you must activate a tile before your six attempts are complete.</p>
            <p>Press any key to continue.</p>
        </div>`,

        //one in six 2//
        `<div class ="game-header">Six Shooter</div>
        <p>If you successfully hit a tile during the round, you will see this message indicating you won the round:</p>
        <div class ="outcome-container">
            <div class="win-text">+10 tokens</div>
            <div class="status-text">Get ready for the next round!</div>
        </div>`,

        //one in six 3//
        `<div class ="game-header">Six Shooter</div>
        <p>Each time you fail to hit a tile within a round, you will see a message indicating how many attempts are remaining:</p>
        <div class ="outcome-container">
            <div class="status-text">Attempts remaining: 3</div>
        </div>`,

        //one in six 4//
        `<div class ="game-header">Six Shooter</div>
        <p>If you fail to hit a tile in six attempts, you will see this message indicating you lost the round:</p>
        <div class ="outcome-container">
            <div class="lose-text">+0 tokens</div>
            <div class="status-text">Get ready for the next round!</div>
        </div>`,

        ],
        show_clickable_nav: true
    };
    timeline.push(games);




    //quiz on representations -- UNFINISHED//

    var quiz_binary = {
        type:jsPsychSurveyMultiChoice,
        preamble: "<p>To make sure you understand the One-Click Wonder game, please answer the following questions:",
        questions: [
            {
                prompt: "What must you do to maximize your odds of winning a $100.00 bonus?",
                name: "binaryq1",
                options: ["Earn as many tokens as possible.", "Finish the game as quickly as possible."],
                required: true

            },
            {
                prompt: "How do you earn tokens in One-Click Wonder?",
                name: "binaryq2",
                options: ["By activating each individual tile.", "By building streaks."],
                required: true

            }

        ]

    };
    timeline.push(quiz_binary)

    var quiz_streak = {
        type:jsPsychSurveyMultiChoice,
        preamble: "<p>To make sure you understand the Streak-O-Rama game, please answer the following questions:",
        questions: [
            {
                prompt: "How do you earn tokens in Streak-O-Rama?",
                name: "streakq1",
                options: ["By activating each individual tile.", "By building streaks."],
                required: true

            },
            {
                prompt: "What happens if you lose your streak?",
                name: "streakq2",
                options: ["You lose all your tokens and restart from 0.", "You do not lose any tokens."],
                required: true

            }

        ]

    };
    timeline.push(quiz_streak)

    var quiz_onein6 = {
        type:jsPsychSurveyMultiChoice,
        preamble: "<p>To make sure you understand the Shot in Six game, please answer the following questions:",
        questions: [
            {
                prompt: "How do you earn tokens in Shot in Six?",
                name: "onein6q1",
                options: ["By hitting exactly 6 tiles the entire game.", "By hitting 1 tile in 6 or less tries."],
                required: true

            },
            {
                prompt: "If you hit a tile in 4 tries, what happens?",
                name: "onein6q2",
                options: ["You continue to 6 tries.", "The round restarts at try 1."],
                required: true

            }

        ]

    };
    timeline.push(quiz_onein6)

    //pick a representation//
    
    var choose_rep = {
        type:jsPsychSurveyMultiChoice,
        questions: [
            {
                prompt: "Which game would you like to play?",
                name: "format",
                options: ["One-Click Wonder", "Streak-O-Rama", "Shot in Six"],
                required: true

            }

        ]

    };
    timeline.push(choose_rep)

    //insert REAL game//


    //*start the experiment//
    jsPsych.run(timeline);

  </script>
</html>
